#  Text (txt) 

##  1.1. Storage structure 

 The file structure of point cloud data stored in text format is relatively simple, each point is a row of records, and the information storage format of the points is x y z or x y z r g b. 

##  1.2. Reading 

 When reading point cloud data in text format, you can follow the general text reading method. Here is a record of how to use open3d to read point cloud data in txt format 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
#  Second, PCD format 

 A PCD file is composed of a file header and a data part 

##  1.1. Storage structure 

##  1.2. Reading and writing 

###  1.2.1, open3d read and write (python) 

 Read pcd point cloud file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Save pcd point cloud file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 ![avatar]( 20210716093718382.png) 

 ![avatar]( 2021071609374197.png) 

 The PCD point dataset is partially saved in binary format, where RGB is written in bit storage. 

 ![avatar]( 20210716093751407.png) 

###  1.2.2, PCL read and write (C++) 

 We use the pcd file generated above for testing 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Print result 

 ![avatar]( 20210716141615420.png) 

 Save pcd file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Open the output ascii file 

 ![avatar]( 20210716152854533.png) 

 It can be seen that the pcd point cloud file generated by pcl is inconsistent with the point cloud file generated by open3d in the color part, mainly due to the data storage type. After pcl 1.7, the color part will be saved as an integer. See here for details. 

#  III. LAS format 

##  3.1. Storage structure 

 LAS is a public data format for storing point cloud, which is mainly used to store radar point cloud data. LAZ is a lossless compression of LAS format. 

 The latest LAS specification version is LAS 1.4. The laspy library supports LAS files from 1.2 to 1.4. 

 A LAS file consists of three parts: the file header area (Header), the variable length recording area (VLRs), and the point set recording area (Point Records). 

 The file header contains information such as the data version, the format of the point (different dimensions stored by each point), etc.; the variable-length record includes some meta-information, such as coordinate system information, additional dimensions, etc.; the point set record area is the core of the las file, recording the x, y, z coordinate information of the point and other attribute information such as r, g, b, classification, intensity, etc. There are 11 versions of the point format, of which version 0 is the basis, and other subsequent versions add other fields on the basis of version 0. For specific fields, please refer to here. 

##  3.2. Reading and writing 

###  3.2.1, use laspy to read and write (Python) 

 In python, you can use the laspy package to read and write las point cloud files 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Write las files with laspy 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
###  3.2.2, use laslib to read and write (C++) 

 The laslib library can be used to manipulate las files with C++. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Write to las file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
#  IV. PLY format 

##  4.1. Storage structure 

 PLY (Polygon File Format) is a common point cloud storage format developed by Stanford University. It was originally used to store point cloud data from 3D scanners. 

 PLY file consists of two parts: file header and data area. 

###  File header 

 The file header records the comments, element categories, and attributes in the point cloud file, starting with ply and ending with end header. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 The second line of the file header is the storage method and version of the file, starting with format, followed by encoding method and version. There are three encoding methods: ascii, binary_little_endian, binary_big_endian. Currently PLY only has version 1.0. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Format followed by comment information, starting with comment, the author can add some author information, point cloud basic information. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 The comment information is followed by element element information + property attribute information of the element. The element information includes the type and number of elements, and the property attribute information includes the storage type and attribute name of the attribute field. Elements in a PLY file generally include vertices, faces, edges, etc. Element information and attribute information should be combined in the following format 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 We define a ply file with 6 vertices and 8 face elements. The file header is as follows. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
###  data range 

 Start storing data directly after the file header, and the storage form is divided into ASCII and binary. Taking ASCII as an example, record each point by line first, and then record each face by line after all point records are completed. 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 So the complete ply file is as follows 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
##  4.2. Reading and writing 

###  4.2.1, using plyfile to read and write (Python) 

 Use plyfile to read ply files 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Print result 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Write ply file using plyfile 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Open in meshlab 

 ![avatar]( 88893a4d08534f3f8df1334c3d6a120e.png) 

 ![avatar]( f84a4b402ebe4f39acc514cafbdd78bc.png) 

###  4.2.2, use PCL to read and write (C++) 

 Read ply point cloud file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
 Save ply point cloud file 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309573741758
  ```  
